{% extends 'base.html' %}

{% block content %}

    <!-- Heading -->
    <div class="row">
        <div class="col s12">
            <h3>The Official Teleportation Bug Tracker</h3>
            <div class="divider"></div>
        </div>
    </div>

    <!-- Bug list toolbar -->
    <div class="row">
        <div class="col s12">
            <span class="left">
                <a href="{% url 'create_bug_report' %}"
                   class="btn-floating btn-large waves-effect waves-light red tooltipped" data-position="right"
                   data-tooltip="Report new bug">
                    <i class="material-icons">report_problem</i></a>
            </span>
            <span class="right">
                <a href="{% url 'bug_search' %}" class="btn-floating btn-large waves-effect waves-light tooltipped"
                   data-position="left" data-tooltip="Search for bugs">
                    <i class="material-icons purple">search</i></a>
            </span>
        </div>
    </div>

    <!-- Bug list -->
    <ul class="collection">
        {% for bug in bugs %}
            {% if bug.status != 'Resolved' %}
                <li class="collection-item avatar bug-list-item">
                    <a href="{% url "bug_detail" bug.id %}"><i class="material-icons tooltipped circle
                    {% if bug.severity == 'Low' %} blue
                    {% elif bug.severity == 'Medium' %} yellow
                    {% elif bug.severity == 'High' %} purple
                    {% else %} red
                    {% endif %}" data-position="bottom" data-tooltip="Bug Details">build</i></a>
                    <span class="title">Issue:   <em>{{ bug.title }}</em></span>
                    <p>Severity: <strong>{{ bug.severity }}</strong><br>
                        Raised by: <em>{{ bug.author }} on {{ bug.created }}</em>
                    </p>
                    <div class="secondary-content purple-text"><i
                            class="material-icons">thumb_up</i> {{ bug.votes.count }}
                    </div>
                </li>
            {% endif %}
        {% endfor %}
    </ul>
    {% include 'pagination.html' with page=bugs %}
{% endblock %}