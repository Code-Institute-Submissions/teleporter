{% extends 'base.html' %}

{% block content %}

    <!-- Heading -->
    <div class="row">
        <div class="col s12">
            <h3>The Official Teleportation Bug Tracker</h3>
            <div class="divider"></div>
        </div>
    </div>

    <!-- Bug list toolbar -->
    <div class="row">
        <div class="col s3">
            <a href="{% url 'create_bug_report' %}"
               class="btn-floating btn-large waves-effect waves-light red tooltipped" data-position="right"
               data-tooltip="Report new bug">
                <i class="material-icons">report_problem</i></a>
        </div>
        <div class="col s9">
            <nav class="deep-purple">
                <div class="nav-wrapper">
                    <form>
                        <div class="input-field">
                            <input id="search" type="search" required>
                            <label class="label-icon" for="search"><i class="material-icons">search</i></label>
                            <i class="material-icons">close</i>
                        </div>
                    </form>
                </div>
            </nav>
        </div>
    </div>

    <!-- Bug list -->
    <ul class="collection">
        {% for bug in bugs %}
            <li class="collection-item avatar bug-list-item">
                <a href="{% url "bug_detail" bug.id %}"><i class="material-icons circle
                    {% if bug.severity == 'LOW' %} blue
                    {% elif bug.severity == 'MEDIUM' %} yellow
                    {% elif bug.severity == 'HIGH' %} purple
                    {% else %} red
                    {% endif %}">build</i></a>
                <span class="title">Bug:   <em>{{ bug.title }}</em></span>
                <p>Severity: <strong>{{ bug.severity }}</strong><br>
                    Raised by: <em>{{ bug.author }} on {{ bug.created }}</em>
                </p>
                <div class="secondary-content"><i class="material-icons">thumb_up</i> {{ bug.votes.count }}</div>
            </li>
        {% endfor %}
    </ul>
    {% include 'pagination.html' with page=bugs %}
{% endblock %}